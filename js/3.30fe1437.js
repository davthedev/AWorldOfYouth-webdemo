(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"267d":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("q-page",{staticClass:"flex"},[e("div",{staticStyle:{flex:"1"}},[e("l-map",{ref:"map",attrs:{zoom:a.zoom,center:a.center,options:a.mapOptions,crs:a.crs}},[e("l-tile-layer",{attrs:{url:a.url}}),a._l(a.pins,(function(t,s){return[a.unlocked_missions[t.datakey]?e("l-marker",{key:s,attrs:{"lat-lng":t.latlng,icon:a.completed_missions[t.datakey]?a.icon_complete:a.icon}},[e("l-popup",[e("p",[a._v(a._s(t.name))]),a.completed_missions[t.datakey]?e("q-btn",{staticStyle:{width:"160px"},attrs:{color:"white",rounded:"",outline:"",disable:"",icon:"o_assignment_turned_in"}},[a._v("COMPLETE")]):e("q-btn",{staticStyle:{width:"160px"},attrs:{color:"white","text-color":"accent",rounded:"",unelevated:"",icon:"double_arrow"},on:{click:function(e){return a.accessPinData(t.datakey)}}},[a._v("START")])],1)],1):a._e()]}))],2)],1),e("q-page-sticky",{staticStyle:{"z-index":"2000"},attrs:{position:"bottom",offset:[0,0]}},[e("q-card",{staticClass:"miniboard"},[e("q-card-section",[e("q-circular-progress",{staticClass:"q-ma-sm",attrs:{value:10,size:"90px",thickness:.2,color:"red-13","track-color":"grey-8","show-value":""}},[e("div",{staticClass:"caption"},[e("span",{staticClass:"smalltitle"},[a._v("SPREAD")]),a._v("10")])]),e("q-circular-progress",{staticClass:"q-ma-sm",attrs:{value:50,size:"90px",thickness:.2,color:"cyan-5","track-color":"grey-8","show-value":""}},[e("div",{staticClass:"caption"},[e("span",{staticClass:"smalltitle"},[a._v("LEVEL")]),a._v("3")])]),e("q-circular-progress",{staticClass:"q-ma-sm",attrs:{value:30,size:"90px",thickness:.2,color:"yellow-12","track-color":"grey-8","show-value":""}},[e("div",{staticClass:"caption"},[e("span",{staticClass:"smalltitle"},[a._v("GOODWILL")]),a._v("30")])])],1)],1)],1),e("q-page-sticky",{staticStyle:{"z-index":"2000"},attrs:{position:"top",offset:[0,0]}},[e("q-card",{staticClass:"miniboardup"},[e("q-card-section",[e("q-btn-dropdown",{attrs:{color:"white",icon:"menu",rounded:"",flat:""}},[e("q-list",{staticClass:"gamemenu",attrs:{dark:""}},[e("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:a.resetGame}},[e("q-item-section",[e("q-item-label",[a._v("Reset game")])],1)],1)],1)],1)],1)],1)],1)],1)},o=[],n=e("2699"),i=e("a40a"),l=e("4e2b"),c=e("f60f"),r=e("fbba"),m=e("e11e"),p=(e("6cc5"),{name:"Map",components:{LMap:n["a"],LTileLayer:i["a"],LMarker:l["a"],LPopup:c["a"],LIcon:r["a"]},data:function(){return{dbgUnlockAll:!1,pins:[{name:"Welcome! Here is the tutorial",datakey:0,latlng:[-60,125]},{name:"Soap making",datakey:1,latlng:[-40,138]},{name:"Growing bacteria",datakey:2,latlng:[-52,100]},{name:"Hy-giene",datakey:3,latlng:[-31,115]},{name:"Super power",datakey:4,latlng:[-70,138]},{name:"Fridge exploration",datakey:5,latlng:[-40,153]},{name:"Mens Sana",datakey:6,latlng:[-73,148]},{name:"Soap coalition",datakey:7,latlng:[-79,128]},{name:"Shapin' Cleanliness",datakey:8,latlng:[-79,136]},{name:"Bread experiment",datakey:9,latlng:[-50,133]},{name:"Keep the bond",datakey:10,latlng:[-72,100]},{name:"Law of soap",datakey:11,latlng:[-89,143]},{name:"Is it war?",datakey:12,latlng:[-90,110]}],unlock_conditions:{0:[],1:[0],2:[0],3:[0],4:[0],5:[0],6:[0],7:[0],8:[1],9:[1,2],10:[5,6],11:[7],12:[10,11]},unlocked_missions:{},completed_missions:{},crs:m["CRS"].Simple,map:null,mapOptions:{scrollWheelZoom:!1,doubleClickZoom:!1,maxBounds:[[0,0],[-128,256]],noWrap:!0,zoomControl:!1},zoom:4,minZoom:4,maxZoom:4,center:[-50,100],url:"statics/maps/fantasy/12/tile_{x}-{y}.png",icon:Object(m["icon"])({iconUrl:"statics/maps/pins/Pin1.png",iconSize:[52,84],iconAnchor:[26,84],popupAnchor:[0,-84]}),icon_complete:Object(m["icon"])({iconUrl:"statics/maps/pins/Pin3.png",iconSize:[52,84],iconAnchor:[26,84],popupAnchor:[0,-84]})}},mounted:function(){var a=this;this.updateUnlockStatus(),this.$nextTick((function(){a.map=a.$refs.map.mapObject}))},methods:{accessPinData:function(a){console.log("Open pin data "+a),this.$router.push("/mission/"+a)},resetGame:function(){var a=this.$gameglobals.unlocked_missions,t=this.$gameglobals.completed_missions;for(var e in a)a[e]=!1;for(var e in t)t[e]=!1;this.unlocked_missions=a,this.completed_missions=t,this.$gameglobals.unlocked_missions=a,this.$gameglobals.completed_missions=t,this.updateUnlockStatus()},updateUnlockStatus:function(){var a=this.$gameglobals.unlocked_missions,t=this.$gameglobals.completed_missions;for(var e in this.unlock_conditions){console.log("Key "+e);var s=this.unlock_conditions[e],o=!0;s.map((function(a){t[a]||(o=!1)})),(1==o||this.dbgUnlockAll)&&(console.log("unlocking mission "+e),a[e]=!0)}this.unlocked_missions=a,this.completed_missions=t,this.$gameglobals.unlocked_missions=a,this.$gameglobals.completed_missions=t}}}),d=p,u=(e("36e5"),e("2877")),g=e("eebe"),k=e.n(g),h=e("9989"),_=e("9c40"),b=e("de5e"),y=e("f09f"),f=e("a370"),v=e("58ea"),w=e("f20b"),C=e("1c1c"),S=e("66e5"),q=e("4074"),x=e("0170"),L=e("7f67"),$=Object(u["a"])(d,s,o,!1,null,null,null);t["default"]=$.exports;k()($,"components",{QPage:h["a"],QBtn:_["a"],QPageSticky:b["a"],QCard:y["a"],QCardSection:f["a"],QCircularProgress:v["a"],QBtnDropdown:w["a"],QList:C["a"],QItem:S["a"],QItemSection:q["a"],QItemLabel:x["a"]}),k()($,"directives",{ClosePopup:L["a"]})},"36e5":function(a,t,e){"use strict";var s=e("d9b2"),o=e.n(s);o.a},d9b2:function(a,t,e){}}]);